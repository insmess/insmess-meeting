(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77233949"],{2858:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-container"},[o("el-form",{ref:"createForm",staticClass:"login-form",attrs:{model:t.createForm,rules:t.createRules,autocomplete:"on","label-position":"left"}},[o("div",{staticClass:"title-container"},[o("h3",{staticClass:"title"},[t._v("创建会议")])]),o("el-form-item",{attrs:{prop:"token"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"user"}})],1),o("el-input",{ref:"token",attrs:{placeholder:"请输入token",name:"token",type:"text",tabindex:"1",autocomplete:"on"},model:{value:t.createForm.token,callback:function(e){t.$set(t.createForm,"token",e)},expression:"createForm.token"}})],1),o("el-form-item",{attrs:{prop:"roomName"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"message"}})],1),o("el-input",{ref:"roomName",attrs:{placeholder:"请输入会议名称",name:"roomName",type:"text",tabindex:"1",autocomplete:"on"},model:{value:t.createForm.name,callback:function(e){t.$set(t.createForm,"name",e)},expression:"createForm.name"}})],1),o("el-form-item",{attrs:{prop:"roomDescription"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"message"}})],1),o("el-input",{ref:"roomDescription",attrs:{placeholder:"请输入会议描述",name:"roomDescription",type:"text",tabindex:"1",autocomplete:"on"},model:{value:t.createForm.description,callback:function(e){t.$set(t.createForm,"description",e)},expression:"createForm.description"}})],1),o("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:t.capsTooltip,callback:function(e){t.capsTooltip=e},expression:"capsTooltip"}},[o("el-form-item",{attrs:{prop:"password"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"password"}})],1),o("el-input",{key:t.passwordType,ref:"password",attrs:{type:t.passwordType,placeholder:"请输入会议密码",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(e){t.capsTooltip=!1}},nativeOn:{keyup:[function(e){return t.checkCapslock(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}]},model:{value:t.createForm.password,callback:function(e){t.$set(t.createForm,"password",e)},expression:"createForm.password"}}),o("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[o("svg-icon",{attrs:{"icon-class":"password"===t.passwordType?"eye":"eye-open"}})],1)],1)],1),o("el-button",{staticStyle:{width:"30%","margin-bottom":"30px",float:"right","margin-left":"10px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.createMeeting(e)}}},[t._v("创建")]),o("el-button",{staticStyle:{width:"30%","margin-bottom":"30px",float:"right","margin-left":"10px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.joinMeeting(e)}}},[t._v("加入")])],1)],1)},n=[],a=o("c7eb"),s=o("1da1"),c=o("420d"),i={name:"Create",components:{},data:function(){return{createForm:{token:"",password:""},createRules:{token:[{required:!0,trigger:"blur",message:"token不能为空"}],roomName:[{required:!0,trigger:"blur",message:"会议名称不能为空"}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{}}},watch:{},created:function(){},mounted:function(){""===this.createForm.token?this.$refs.token.focus():""===this.createForm.password&&this.$refs.password.focus()},destroyed:function(){},methods:{checkCapslock:function(t){},showPwd:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){t.$refs.password.focus()}))},handleCreate:function(){this.$router.push({path:"/room/prepare-meeting",query:{roomId:this.createForm.roomId,token:this.createForm.token,password:this.createForm.password}})},getOtherQuery:function(t){},joinMeeting:function(){this.$router.push({path:"/room/join"})},createMeeting:function(){var t=this;return Object(s["a"])(Object(a["a"])().mark((function e(){return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(t.createForm).then((function(e){if(200==e.code){var o=e.data;console.log(),t.$router.push({path:"/room/prepare-meeting",query:{roomId:o.id,token:t.createForm.token,password:o.password}})}else t.$message.error("会议创建失败")}));case 2:case"end":return e.stop()}}),e)})))()}}},u=i,p=(o("59d7"),o("3cd8"),o("2877")),d=Object(p["a"])(u,r,n,!1,null,"4bcf0590",null);e["default"]=d.exports},"3cd8":function(t,e,o){"use strict";o("ebd3")},"420d":function(t,e,o){"use strict";o.d(e,"h",(function(){return n})),o.d(e,"f",(function(){return a})),o.d(e,"b",(function(){return s})),o.d(e,"c",(function(){return c})),o.d(e,"e",(function(){return i})),o.d(e,"i",(function(){return u})),o.d(e,"d",(function(){return p})),o.d(e,"g",(function(){return d})),o.d(e,"a",(function(){return l})),o.d(e,"j",(function(){return m}));var r=o("b775");function n(t){return Object(r["a"])({url:"/room/getRole",method:"get",params:t})}function a(t){return Object(r["a"])({url:"/room/recording/stop",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/room/recording/start",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/room/checkPassword?roomId="+t.roomId+"&password="+t.password,method:"post"})}function i(t){return Object(r["a"])({url:"/room/disconnect",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/room/findById?id="+t,method:"get"})}function p(t){return Object(r["a"])({url:"/room/checkRoomPermission?roomId="+t,method:"get"})}function d(){return Object(r["a"])({url:"/room/findPublicRoomPage",method:"get"})}function l(t){return Object(r["a"])({url:"/room/save",method:"post",data:t})}function m(t){return Object(r["a"])({url:"/room/update",method:"post",data:t})}},"59d7":function(t,e,o){"use strict";o("d3d7")},d3d7:function(t,e,o){},ebd3:function(t,e,o){}}]);